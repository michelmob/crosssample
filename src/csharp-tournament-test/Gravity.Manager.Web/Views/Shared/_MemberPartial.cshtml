@using Gravity.Manager.Web.Application
@*@inject IUserStateWrapper UserStateWrapper*@

@if (Context.User.Identity.IsAuthenticated)
{
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-cog"></span> <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li><a asp-controller="Organizations" asp-action="Index"><span class="glyphicon glyphicon-briefcase"></span> Organizations</a></li>
            <li><a asp-controller="Members" asp-action="Index"><span class="glyphicon glyphicon-user"></span> Members</a></li>
            <li role="separator" class="divider"></li>
            <li><a asp-controller="Settings" asp-action="Index"><span class="glyphicon glyphicon-wrench"></span> Settings</a></li>
        </ul>
    </li>
    <li><a asp-controller="Member" asp-action="Index"><span class="glyphicon glyphicon-user">&nbsp;</span>@(Context.User.Identity.Name)</a></li>
    <li>
        <form method="post" asp-controller="Member" asp-action="LogOff" id="logoutForm" class="navbar-form navbar-right">
            <span class="hidden">@Html.AntiForgeryToken()</span>
            <button type="button" class="btn btn-warning btn-sm" aria-label="Log out" title="Log out" onclick="$('#logoutForm').submit();">
                <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
            </button>
        </form>
    </li>
}
else
{
    <li>
        <a asp-controller="Member" asp-action="Logon" title="Logon"><span class="glyphicon glyphicon-user">&nbsp;</span>Login</a>
    </li>
}